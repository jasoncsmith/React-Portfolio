import{S as dt,p as G,a as v,s as U,b as Q,n as ut,i as $,d as J,t as pt,f as _t,e as ft,g as X,h as lt,r as _,k as mt,j as n,c as R}from"./index-DCENYgWq.js";import{P as M}from"./index-TSlzY6YU.js";import{m as gt,a as d,o as b,c as P,b as x}from"./mobxreact.esm-quhJAaEF.js";import{c as vt}from"./index-CSS--jIE.js";import{I as Y}from"./index-Bmn7S-2p.js";import{L as yt}from"./index-CecOfYnr.js";import{F as bt}from"./index-B8eYQY5r.js";var xt=class extends dt{constructor(t,e){super(),this.options=e,this.#s=t,this.#i=null,this.#n=G(),this.options.experimental_prefetchInRender||this.#n.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#s;#t=void 0;#_=void 0;#e=void 0;#a;#h;#n;#i;#f;#d;#u;#o;#l;#r;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Z(this.#t,this.options)?this.#c():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return B(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return B(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,s=this.#t;if(this.options=this.#s.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof v(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#t.setOptions(this.options),e._defaulted&&!U(this.options,e)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&tt(this.#t,s,this.options,e)&&this.#c(),this.updateResult(),i&&(this.#t!==s||v(this.options.enabled,this.#t)!==v(e.enabled,this.#t)||Q(this.options.staleTime,this.#t)!==Q(e.staleTime,this.#t))&&this.#m();const r=this.#g();i&&(this.#t!==s||v(this.options.enabled,this.#t)!==v(e.enabled,this.#t)||r!==this.#r)&&this.#v(r)}getOptimisticResult(t){const e=this.#s.getQueryCache().build(this.#s,t),s=this.createResult(e,t);return It(this,s)&&(this.#e=s,this.#h=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#e}trackResult(t,e){const s={};return Object.keys(t).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),e?.(i),t[i])})}),s}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#s.defaultQueryOptions(t),s=this.#s.getQueryCache().build(this.#s,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#c({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#e))}#c(t){this.#C();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ut)),e}#m(){this.#b();const t=Q(this.options.staleTime,this.#t);if($||this.#e.isStale||!J(t))return;const s=pt(this.#e.dataUpdatedAt,t)+1;this.#o=setTimeout(()=>{this.#e.isStale||this.updateResult()},s)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#r=t,!($||v(this.options.enabled,this.#t)===!1||!J(this.#r)||this.#r===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||_t.isFocused())&&this.#c()},this.#r))}#y(){this.#m(),this.#v(this.#g())}#b(){this.#o&&(clearTimeout(this.#o),this.#o=void 0)}#x(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const s=this.#t,i=this.options,r=this.#e,c=this.#a,a=this.#h,u=t!==s?t.state:this.#_,{state:m}=t;let h={...m},T=!1,f;if(e._optimisticResults){const p=this.hasListeners(),S=!p&&Z(t,e),j=p&&tt(t,s,e,i);(S||j)&&(h={...h,...ft(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:V,errorUpdatedAt:W,status:C}=h;if(e.select&&h.data!==void 0)if(r&&h.data===c?.data&&e.select===this.#f)f=this.#d;else try{this.#f=e.select,f=e.select(h.data),f=X(r?.data,f,e),this.#d=f,this.#i=null}catch(p){this.#i=p}else f=h.data;if(e.placeholderData!==void 0&&f===void 0&&C==="pending"){let p;if(r?.isPlaceholderData&&e.placeholderData===a?.placeholderData)p=r.data;else if(p=typeof e.placeholderData=="function"?e.placeholderData(this.#u?.state.data,this.#u):e.placeholderData,e.select&&p!==void 0)try{p=e.select(p),this.#i=null}catch(S){this.#i=S}p!==void 0&&(C="success",f=X(r?.data,p,e),T=!0)}this.#i&&(V=this.#i,f=this.#d,W=Date.now(),C="error");const H=h.fetchStatus==="fetching",F=C==="pending",D=C==="error",q=F&&H,K=f!==void 0,g={status:C,fetchStatus:h.fetchStatus,isPending:F,isSuccess:C==="success",isError:D,isInitialLoading:q,isLoading:q,data:f,dataUpdatedAt:h.dataUpdatedAt,error:V,errorUpdatedAt:W,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:H,isRefetching:H&&!F,isLoadingError:D&&!K,isPaused:h.fetchStatus==="paused",isPlaceholderData:T,isRefetchError:D&&K,isStale:z(t,e),refetch:this.refetch,promise:this.#n};if(this.options.experimental_prefetchInRender){const p=E=>{g.status==="error"?E.reject(g.error):g.data!==void 0&&E.resolve(g.data)},S=()=>{const E=this.#n=g.promise=G();p(E)},j=this.#n;switch(j.status){case"pending":t.queryHash===s.queryHash&&p(j);break;case"fulfilled":(g.status==="error"||g.data!==j.value)&&S();break;case"rejected":(g.status!=="error"||g.error!==j.reason)&&S();break}}return g}updateResult(){const t=this.#e,e=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#h=this.options,this.#a.data!==void 0&&(this.#u=this.#t),U(e,t))return;this.#e=e;const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#p.size)return!0;const c=new Set(r??this.#p);return this.options.throwOnError&&c.add("error"),Object.keys(this.#e).some(a=>{const y=a;return this.#e[y]!==t[y]&&c.has(y)})};this.#I({listeners:s()})}#C(){const t=this.#s.getQueryCache().build(this.#s,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#_=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#I(t){lt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#e)}),this.#s.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Ct(t,e){return v(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Z(t,e){return Ct(t,e)||t.state.data!==void 0&&B(t,e,e.refetchOnMount)}function B(t,e,s){if(v(e.enabled,t)!==!1){const i=typeof s=="function"?s(t):s;return i==="always"||i!==!1&&z(t,e)}return!1}function tt(t,e,s,i){return(t!==e||v(i.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&z(t,s)}function z(t,e){return v(e.enabled,t)!==!1&&t.isStaleByTime(Q(e.staleTime,t))}function It(t,e){return!U(t.getCurrentResult(),e)}var ct=_.createContext(!1),Rt=()=>_.useContext(ct);ct.Provider;function St(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var jt=_.createContext(St()),wt=()=>_.useContext(jt);function Ot(t,e){return typeof t=="function"?t(...e):!!t}function et(){}var Tt=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Nt=t=>{_.useEffect(()=>{t.clearReset()},[t])},Pt=({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||Ot(s,[t.error,i])),Et=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...s)=>Math.max(e(...s),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},At=(t,e)=>t.isLoading&&t.isFetching&&!e,Lt=(t,e)=>t?.suspense&&e.isPending,st=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Qt(t,e,s){const i=mt(),r=Rt(),c=wt(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",Et(a),Tt(a,c),Nt(c);const y=!i.getQueryCache().get(a.queryHash),[u]=_.useState(()=>new e(i,a)),m=u.getOptimisticResult(a),h=!r&&t.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(T=>{const f=h?u.subscribe(lt.batchCalls(T)):et;return u.updateResult(),f},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),_.useEffect(()=>{u.setOptions(a)},[a,u]),Lt(a,m))throw st(a,u,c);if(Pt({result:m,errorResetBoundary:c,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,m),a.experimental_prefetchInRender&&!$&&At(m,r)&&(y?st(a,u,c):i.getQueryCache().get(a.queryHash)?.promise)?.catch(et).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?m:u.trackResult(m)}function Ht(t,e){return Qt(t,xt)}const Ft=()=>vt.get("api/v1/projects"),Dt=400,it=Dt+50,nt=450,Mt=3e3;var kt=Object.defineProperty,Ut=Object.getOwnPropertyDescriptor,l=(t,e,s,i)=>{for(var r=i>1?void 0:i?Ut(e,s):e,c=t.length-1,a;c>=0;c--)(a=t[c])&&(r=(i?a(e,s,r):a(r))||r);return i&&r&&kt(e,s,r),r};class o{intervalId;constructor(){gt(this)}slides=[];index=0;isAnimatingLeft=!1;isAnimatingRight=!1;isCaptionShowing=!1;isCaptionHiding=!1;isCaptionHidden=!1;isPlaying=!1;get numOfSlides(){return this.slides?.length??0}get isAtEnd(){return this.index===this.numOfSlides-1}get isAtStart(){return this.index===0}get nextIndex(){return this.isAtEnd?0:this.index+1}get prevIndex(){return this.isAtStart?this.numOfSlides-1:this.index-1}setIndex(e){this.index=e}goToPrevious(){this.isAnimatingLeft||(this.setIsAnimatingLeft(!0),setTimeout(()=>{this.setIsAnimatingLeft(!1),this.setIndex(this.prevIndex)},it))}goToNext(){this.isAnimatingRight||(this.setIsAnimatingRight(!0),setTimeout(()=>{this.setIsAnimatingRight(!1),this.setIndex(this.nextIndex)},it))}goTo(e){this.index=e}setIsAnimatingRight(e){this.isAnimatingRight=e}setIsAnimatingLeft(e){this.isAnimatingLeft=e}setIsCaptionHiding(e){this.isCaptionHiding=e}setIsCaptionHidden(e){this.isCaptionHidden=e}setIsCaptionShowing(e){this.isCaptionShowing=e}setIsPlaying(e){this.isPlaying=e}hideCaptions=()=>{this.setIsCaptionHiding(!0),setTimeout(()=>{this.setIsCaptionHidden(!0),this.setIsCaptionHiding(!1)},nt)};setSlides=(e=[])=>{this.slides=e};showCaptions=()=>{this.setIsCaptionShowing(!0),this.setIsCaptionHidden(!1),setTimeout(this.setIsCaptionShowing,nt,!1)};toggleCaptions=()=>this.isCaptionHidden?this.showCaptions():this.hideCaptions();pause=()=>{window.clearInterval(this.intervalId),this.setIsPlaying(!1)};play=()=>{this.intervalId=window.setInterval(this.goToNext,Mt),this.setIsPlaying(!0)};async init(e){this.setSlides(e),this.play()}destroy(){this.pause()}}l([b],o.prototype,"slides",2);l([b],o.prototype,"index",2);l([b],o.prototype,"isAnimatingLeft",2);l([b],o.prototype,"isAnimatingRight",2);l([b],o.prototype,"isCaptionShowing",2);l([b],o.prototype,"isCaptionHiding",2);l([b],o.prototype,"isCaptionHidden",2);l([b],o.prototype,"isPlaying",2);l([P],o.prototype,"numOfSlides",1);l([P],o.prototype,"isAtEnd",1);l([P],o.prototype,"isAtStart",1);l([P],o.prototype,"nextIndex",1);l([P],o.prototype,"prevIndex",1);l([d.bound],o.prototype,"setIndex",1);l([d.bound],o.prototype,"goToPrevious",1);l([d.bound],o.prototype,"goToNext",1);l([d.bound],o.prototype,"goTo",1);l([d.bound],o.prototype,"setIsAnimatingRight",1);l([d.bound],o.prototype,"setIsAnimatingLeft",1);l([d.bound],o.prototype,"setIsCaptionHiding",1);l([d.bound],o.prototype,"setIsCaptionHidden",1);l([d.bound],o.prototype,"setIsCaptionShowing",1);l([d.bound],o.prototype,"setIsPlaying",1);l([d.bound],o.prototype,"hideCaptions",2);l([d.bound],o.prototype,"setSlides",2);l([d.bound],o.prototype,"showCaptions",2);l([d.bound],o.prototype,"pause",2);l([d.bound],o.prototype,"play",2);l([d.bound],o.prototype,"init",1);l([d.bound],o.prototype,"destroy",1);const ht=_.createContext({}),O=()=>_.useContext(ht),$t="_slider__container_gw1vo_1",rt={slider__container:$t},Bt=({children:t})=>{const{isCaptionHidden:e,play:s,pause:i}=O();return n.jsx("div",{className:R({[rt.slider__container]:!0,[rt["slider__container--captions-hidden"]]:e}),onMouseOver:()=>i(),onMouseLeave:()=>s(),children:t})},zt=x(Bt),N={"slider__caption-display":"_slider__caption-display_vze4x_1","slider__caption-display--is-hiding":"_slider__caption-display--is-hiding_vze4x_28","slider__caption-display--is-showing":"_slider__caption-display--is-showing_vze4x_32","slider__caption-display--is-hidden":"_slider__caption-display--is-hidden_vze4x_36"},Vt=({children:t})=>{const{isCaptionHiding:e,isCaptionHidden:s,isCaptionShowing:i,slides:r}=O();return r?.length?n.jsxs("div",{className:R({[N["slider__caption-display"]]:!0,[N["slider__caption-display--is-hidden"]]:s,[N["slider__caption-display--is-hiding"]]:e,[N["slider__caption-display--is-showing"]]:i}),children:[t,n.jsx("div",{className:N["caption-display__links"]})]}):null},Wt=x(Vt),qt="_slider__slide_xxhkn_1",Kt={slider__slide:qt},k=({name:t,alt:e})=>n.jsx("img",{className:Kt.slider__slide,src:`images/${t}`,alt:e,title:e}),Gt="_slider__viewport_1ghsm_1",Jt="_slider__viewport__slides_1ghsm_14",A={slider__viewport:Gt,slider__viewport__slides:Jt,"slider__viewport__slides--is-animating-right":"_slider__viewport__slides--is-animating-right_1ghsm_21","slider__viewport__slides--is-animating-left":"_slider__viewport__slides--is-animating-left_1ghsm_28"},Xt=()=>{const{isAnimatingRight:t,isAnimatingLeft:e,prevIndex:s,index:i,nextIndex:r,slides:c}=O();return c?.length?n.jsx("div",{className:A.slider__viewport,children:n.jsxs("div",{className:R({[A.slider__viewport__slides]:!0,[A["slider__viewport__slides--is-animating-left"]]:e,[A["slider__viewport__slides--is-animating-right"]]:t}),children:[n.jsx(k,{...c[s]?.image}),n.jsx(k,{...c[i]?.image}),n.jsx(k,{...c[r]?.image})]})}):null},Yt=x(Xt),Zt="_caption__subtitle_ypv2b_32",w={"caption-display__caption":"_caption-display__caption_ypv2b_1",caption__subtitle:Zt,"caption__client-name":"_caption__client-name_ypv2b_39","caption--is-updating":"_caption--is-updating_ypv2b_43"},te=()=>{const{isAnimatingRight:t,isAnimatingLeft:e,slides:s,index:i}=O(),r=s?.[i];return r?n.jsxs("div",{className:R({[w["caption-display__caption"]]:!0,[w["caption--is-updating"]]:t||e}),children:[n.jsx("h5",{className:w.caption__subtitle,children:"Client"}),n.jsx("p",{className:w["caption__client-name"],children:r.client}),n.jsx("h5",{className:w.caption__subtitle,children:"Project"}),n.jsxs("p",{children:[r.projectName," (",r.year,")"]}),n.jsx("h5",{className:w.caption__subtitle,children:"Skills"}),n.jsx("p",{children:r.skills})]}):null},ee=x(te),se="_menuItem_1yocg_1",ie="_menuItem__thumbnail_1yocg_35",L={menuItem:se,"menuItem--selected":"_menuItem--selected_1yocg_19",menuItem__thumbnail:ie},ne=({isActive:t,onMenuClick:e,image:s,client:i})=>{const[r,c]=_.useState(!1),{alt:a,name:y}=s;return n.jsxs("div",{className:R({[L.menuItem]:!0,[L["menuItem--selected"]]:t}),children:[n.jsx("button",{type:"button",onClick:e,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:a}),r===!0?n.jsxs("div",{className:L.menuItem__thumbnail,children:[n.jsx("h5",{children:i}),n.jsx("img",{className:L.menuItem__img,src:`images/${y}`,alt:a,title:a,height:100})]}):""]})},re="_slider__menu_tfl3t_1",at={slider__menu:re,"slider__menu--play-state":"_slider__menu--play-state_tfl3t_17"},ae=()=>{const{slides:t,isPlaying:e,index:s,goTo:i}=O();return n.jsxs("div",{className:at.slider__menu,children:[t?.map((r,c)=>n.jsx(ne,{isActive:s===c,onMenuClick:()=>i(c),image:t[c].image,client:t[c].client},`mi-${r.id}`)),n.jsx("div",{className:at["slider__menu--play-state"],children:e?"Playing":"Paused"})]})},oe=x(ae),le="_slider__controls_rzqpu_1",ce={slider__controls:le},he=()=>n.jsx("div",{className:ce.slider__controls,children:n.jsx(oe,{})}),de=x(he),ue="_slider__nav_51omv_1",pe="_slider__nav__btn_51omv_18",I={slider__nav:ue,slider__nav__btn:pe,"slider__nav__btn--prev":"_slider__nav__btn--prev_51omv_31","slider__nav__btn--next":"_slider__nav__btn--next_51omv_39","slider__nav__btn-icon":"_slider__nav__btn-icon_51omv_47"},_e=()=>{const{goToPrevious:t,goToNext:e}=O();return n.jsxs("nav",{className:I.slider__nav,children:[n.jsx("button",{type:"button",className:R({[I.slider__nav__btn]:!0,[I["slider__nav__btn--prev"]]:!0}),onClick:t,children:"Previous"}),n.jsx("span",{className:I["slider__nav__btn-icon"],onClick:t,children:n.jsx(Y,{iconName:"IoChevronBack"})}),n.jsx("button",{type:"button",className:R({[I.slider__nav__btn]:!0,[I["slider__nav__btn--next"]]:!0}),onClick:e,children:"Next"}),n.jsx("span",{className:I["slider__nav__btn-icon"],onClick:e,children:n.jsx(Y,{iconName:"IoChevronForward"})})," "]})},fe=x(_e),me="_slider_1be3t_1",ge="_loader_1be3t_20",ot={slider:me,loader:ge};function ve(){const[t]=_.useState(()=>new o),{data:e,isLoading:s}=Ht({queryKey:["projects"],queryFn:Ft}),i=e?.data?.projects;return _.useEffect(()=>{if(i)return t.init(i),()=>t.destroy()},[t,i?.length]),s?n.jsx(yt,{className:ot.loader}):n.jsx(ht.Provider,{value:t,children:n.jsx(bt,{children:n.jsxs("div",{className:ot.slider,children:[n.jsxs(zt,{children:[n.jsx(Yt,{}),n.jsx(fe,{}),n.jsx(de,{})]}),n.jsx(Wt,{children:n.jsx(ee,{})})]})})})}const ye=x(ve),be="_page_1h3wc_1",xe={page:be};function Ne(){return n.jsxs(M,{className:xe.page,children:[n.jsx(M.Header,{title:"Work",tagline:"Featuring a custom-built responsive React carousel"}),n.jsx(M.Content,{children:n.jsx(ye,{})})]})}export{Ne as default};

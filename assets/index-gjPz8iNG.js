import{S as ut,p as J,a as v,s as U,b as Q,n as pt,i as $,d as X,t as _t,f as ft,e as mt,g as Y,h as ct,r as _,k as gt,j as n,c as R}from"./index-DWq3FDuC.js";import{P as k}from"./index-DP4KbEgR.js";import{m as vt,a as d,o as b,c as N,b as x}from"./mobxreact.esm-CvLqyu9U.js";import{c as yt}from"./index-BoVtfAgu.js";import{I as Z}from"./index-yrrGllrU.js";import{L as bt}from"./index-BUI2TBF7.js";import{F as xt}from"./index-CvmCM_vB.js";var Ct=class extends ut{constructor(t,e){super(),this.options=e,this.#s=t,this.#n=null,this.#i=J(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#s;#t=void 0;#_=void 0;#e=void 0;#o;#h;#i;#n;#f;#d;#u;#a;#l;#r;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),tt(this.#t,this.options)?this.#c():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return B(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return B(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,s=this.#t;if(this.options=this.#s.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof v(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#t.setOptions(this.options),e._defaulted&&!U(this.options,e)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&et(this.#t,s,this.options,e)&&this.#c(),this.updateResult(),i&&(this.#t!==s||v(this.options.enabled,this.#t)!==v(e.enabled,this.#t)||Q(this.options.staleTime,this.#t)!==Q(e.staleTime,this.#t))&&this.#m();const r=this.#g();i&&(this.#t!==s||v(this.options.enabled,this.#t)!==v(e.enabled,this.#t)||r!==this.#r)&&this.#v(r)}getOptimisticResult(t){const e=this.#s.getQueryCache().build(this.#s,t),s=this.createResult(e,t);return Rt(this,s)&&(this.#e=s,this.#h=this.options,this.#o=this.#t.state),s}getCurrentResult(){return this.#e}trackResult(t,e){const s={};return Object.keys(t).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),e?.(i),t[i])})}),s}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#s.defaultQueryOptions(t),s=this.#s.getQueryCache().build(this.#s,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#c({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#e))}#c(t){this.#C();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(pt)),e}#m(){this.#b();const t=Q(this.options.staleTime,this.#t);if($||this.#e.isStale||!X(t))return;const s=_t(this.#e.dataUpdatedAt,t)+1;this.#a=setTimeout(()=>{this.#e.isStale||this.updateResult()},s)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#r=t,!($||v(this.options.enabled,this.#t)===!1||!X(this.#r)||this.#r===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||ft.isFocused())&&this.#c()},this.#r))}#y(){this.#m(),this.#v(this.#g())}#b(){this.#a&&(clearTimeout(this.#a),this.#a=void 0)}#x(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const s=this.#t,i=this.options,r=this.#e,c=this.#o,o=this.#h,u=t!==s?t.state:this.#_,{state:m}=t;let h={...m},O=!1,p;if(e._optimisticResults){const f=this.hasListeners(),P=!f&&tt(t,e),S=f&&et(t,s,e,i);(P||S)&&(h={...h,...mt(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:V,errorUpdatedAt:W,status:C}=h;p=h.data;let q=!1;if(e.placeholderData!==void 0&&p===void 0&&C==="pending"){let f;r?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(f=r.data,q=!0):f=typeof e.placeholderData=="function"?e.placeholderData(this.#u?.state.data,this.#u):e.placeholderData,f!==void 0&&(C="success",p=Y(r?.data,f,e),O=!0)}if(e.select&&p!==void 0&&!q)if(r&&p===c?.data&&e.select===this.#f)p=this.#d;else try{this.#f=e.select,p=e.select(p),p=Y(r?.data,p,e),this.#d=p,this.#n=null}catch(f){this.#n=f}this.#n&&(V=this.#n,p=this.#d,W=Date.now(),C="error");const H=h.fetchStatus==="fetching",F=C==="pending",D=C==="error",K=F&&H,G=p!==void 0,g={status:C,fetchStatus:h.fetchStatus,isPending:F,isSuccess:C==="success",isError:D,isInitialLoading:K,isLoading:K,data:p,dataUpdatedAt:h.dataUpdatedAt,error:V,errorUpdatedAt:W,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:H,isRefetching:H&&!F,isLoadingError:D&&!G,isPaused:h.fetchStatus==="paused",isPlaceholderData:O,isRefetchError:D&&G,isStale:z(t,e),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const f=A=>{g.status==="error"?A.reject(g.error):g.data!==void 0&&A.resolve(g.data)},P=()=>{const A=this.#i=g.promise=J();f(A)},S=this.#i;switch(S.status){case"pending":t.queryHash===s.queryHash&&f(S);break;case"fulfilled":(g.status==="error"||g.data!==S.value)&&P();break;case"rejected":(g.status!=="error"||g.error!==S.reason)&&P();break}}return g}updateResult(){const t=this.#e,e=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#h=this.options,this.#o.data!==void 0&&(this.#u=this.#t),U(e,t))return;this.#e=e;const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#p.size)return!0;const c=new Set(r??this.#p);return this.options.throwOnError&&c.add("error"),Object.keys(this.#e).some(o=>{const y=o;return this.#e[y]!==t[y]&&c.has(y)})};this.#I({listeners:s()})}#C(){const t=this.#s.getQueryCache().build(this.#s,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#_=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#I(t){ct.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#e)}),this.#s.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function It(t,e){return v(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tt(t,e){return It(t,e)||t.state.data!==void 0&&B(t,e,e.refetchOnMount)}function B(t,e,s){if(v(e.enabled,t)!==!1){const i=typeof s=="function"?s(t):s;return i==="always"||i!==!1&&z(t,e)}return!1}function et(t,e,s,i){return(t!==e||v(i.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&z(t,s)}function z(t,e){return v(e.enabled,t)!==!1&&t.isStaleByTime(Q(e.staleTime,t))}function Rt(t,e){return!U(t.getCurrentResult(),e)}var ht=_.createContext(!1),St=()=>_.useContext(ht);ht.Provider;function jt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var wt=_.createContext(jt()),Ot=()=>_.useContext(wt);function Tt(t,e){return typeof t=="function"?t(...e):!!t}function st(){}var Nt=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Pt=t=>{_.useEffect(()=>{t.clearReset()},[t])},At=({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||Tt(s,[t.error,i])),Et=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...s)=>Math.max(e(...s),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Lt=(t,e)=>t.isLoading&&t.isFetching&&!e,Qt=(t,e)=>t?.suspense&&e.isPending,it=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Ht(t,e,s){const i=gt(),r=St(),c=Ot(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Et(o),Nt(o,c),Pt(c);const y=!i.getQueryCache().get(o.queryHash),[u]=_.useState(()=>new e(i,o)),m=u.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(O=>{const p=h?u.subscribe(ct.batchCalls(O)):st;return u.updateResult(),p},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),_.useEffect(()=>{u.setOptions(o)},[o,u]),Qt(o,m))throw it(o,u,c);if(At({result:m,errorResetBoundary:c,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,m),o.experimental_prefetchInRender&&!$&&Lt(m,r)&&(y?it(o,u,c):i.getQueryCache().get(o.queryHash)?.promise)?.catch(st).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?m:u.trackResult(m)}function Ft(t,e){return Ht(t,Ct)}const Dt=()=>yt.get("api/v1/projects"),kt=400,nt=kt+50,rt=450,Mt=3e3;var Ut=Object.defineProperty,$t=Object.getOwnPropertyDescriptor,l=(t,e,s,i)=>{for(var r=i>1?void 0:i?$t(e,s):e,c=t.length-1,o;c>=0;c--)(o=t[c])&&(r=(i?o(e,s,r):o(r))||r);return i&&r&&Ut(e,s,r),r};class a{intervalId;constructor(){vt(this)}slides=[];index=0;isAnimatingLeft=!1;isAnimatingRight=!1;isCaptionShowing=!1;isCaptionHiding=!1;isCaptionHidden=!1;isPlaying=!1;get numOfSlides(){return this.slides?.length??0}get isAtEnd(){return this.index===this.numOfSlides-1}get isAtStart(){return this.index===0}get nextIndex(){return this.isAtEnd?0:this.index+1}get prevIndex(){return this.isAtStart?this.numOfSlides-1:this.index-1}setIndex(e){this.index=e}goToPrevious(){this.isAnimatingLeft||(this.setIsAnimatingLeft(!0),setTimeout(()=>{this.setIsAnimatingLeft(!1),this.setIndex(this.prevIndex)},nt))}goToNext(){this.isAnimatingRight||(this.setIsAnimatingRight(!0),setTimeout(()=>{this.setIsAnimatingRight(!1),this.setIndex(this.nextIndex)},nt))}goTo(e){this.index=e}setIsAnimatingRight(e){this.isAnimatingRight=e}setIsAnimatingLeft(e){this.isAnimatingLeft=e}setIsCaptionHiding(e){this.isCaptionHiding=e}setIsCaptionHidden(e){this.isCaptionHidden=e}setIsCaptionShowing(e){this.isCaptionShowing=e}setIsPlaying(e){this.isPlaying=e}hideCaptions=()=>{this.setIsCaptionHiding(!0),setTimeout(()=>{this.setIsCaptionHidden(!0),this.setIsCaptionHiding(!1)},rt)};setSlides=(e=[])=>{this.slides=e};showCaptions=()=>{this.setIsCaptionShowing(!0),this.setIsCaptionHidden(!1),setTimeout(this.setIsCaptionShowing,rt,!1)};toggleCaptions=()=>this.isCaptionHidden?this.showCaptions():this.hideCaptions();pause=()=>{window.clearInterval(this.intervalId),this.setIsPlaying(!1)};play=()=>{this.intervalId=window.setInterval(this.goToNext,Mt),this.setIsPlaying(!0)};async init(e){this.setSlides(e),this.play()}destroy(){this.pause()}}l([b],a.prototype,"slides",2);l([b],a.prototype,"index",2);l([b],a.prototype,"isAnimatingLeft",2);l([b],a.prototype,"isAnimatingRight",2);l([b],a.prototype,"isCaptionShowing",2);l([b],a.prototype,"isCaptionHiding",2);l([b],a.prototype,"isCaptionHidden",2);l([b],a.prototype,"isPlaying",2);l([N],a.prototype,"numOfSlides",1);l([N],a.prototype,"isAtEnd",1);l([N],a.prototype,"isAtStart",1);l([N],a.prototype,"nextIndex",1);l([N],a.prototype,"prevIndex",1);l([d.bound],a.prototype,"setIndex",1);l([d.bound],a.prototype,"goToPrevious",1);l([d.bound],a.prototype,"goToNext",1);l([d.bound],a.prototype,"goTo",1);l([d.bound],a.prototype,"setIsAnimatingRight",1);l([d.bound],a.prototype,"setIsAnimatingLeft",1);l([d.bound],a.prototype,"setIsCaptionHiding",1);l([d.bound],a.prototype,"setIsCaptionHidden",1);l([d.bound],a.prototype,"setIsCaptionShowing",1);l([d.bound],a.prototype,"setIsPlaying",1);l([d.bound],a.prototype,"hideCaptions",2);l([d.bound],a.prototype,"setSlides",2);l([d.bound],a.prototype,"showCaptions",2);l([d.bound],a.prototype,"pause",2);l([d.bound],a.prototype,"play",2);l([d.bound],a.prototype,"init",1);l([d.bound],a.prototype,"destroy",1);const dt=_.createContext({}),w=()=>_.useContext(dt),Bt="_slider__container_gw1vo_1",ot={slider__container:Bt},zt=({children:t})=>{const{isCaptionHidden:e,play:s,pause:i}=w();return n.jsx("div",{className:R({[ot.slider__container]:!0,[ot["slider__container--captions-hidden"]]:e}),onMouseOver:()=>i(),onMouseLeave:()=>s(),children:t})},Vt=x(zt),T={"slider__caption-display":"_slider__caption-display_vze4x_1","slider__caption-display--is-hiding":"_slider__caption-display--is-hiding_vze4x_28","slider__caption-display--is-showing":"_slider__caption-display--is-showing_vze4x_32","slider__caption-display--is-hidden":"_slider__caption-display--is-hidden_vze4x_36"},Wt=({children:t})=>{const{isCaptionHiding:e,isCaptionHidden:s,isCaptionShowing:i,slides:r}=w();return r?.length?n.jsxs("div",{className:R({[T["slider__caption-display"]]:!0,[T["slider__caption-display--is-hidden"]]:s,[T["slider__caption-display--is-hiding"]]:e,[T["slider__caption-display--is-showing"]]:i}),children:[t,n.jsx("div",{className:T["caption-display__links"]})]}):null},qt=x(Wt),Kt="_slider__slide_xxhkn_1",Gt={slider__slide:Kt},M=({name:t,alt:e})=>n.jsx("img",{className:Gt.slider__slide,src:`images/${t}`,alt:e,title:e}),Jt="_slider__viewport_1ghsm_1",Xt="_slider__viewport__slides_1ghsm_14",E={slider__viewport:Jt,slider__viewport__slides:Xt,"slider__viewport__slides--is-animating-right":"_slider__viewport__slides--is-animating-right_1ghsm_21","slider__viewport__slides--is-animating-left":"_slider__viewport__slides--is-animating-left_1ghsm_28"},Yt=()=>{const{isAnimatingRight:t,isAnimatingLeft:e,prevIndex:s,index:i,nextIndex:r,slides:c}=w();return c?.length?n.jsx("div",{className:E.slider__viewport,children:n.jsxs("div",{className:R({[E.slider__viewport__slides]:!0,[E["slider__viewport__slides--is-animating-left"]]:e,[E["slider__viewport__slides--is-animating-right"]]:t}),children:[n.jsx(M,{...c[s]?.image}),n.jsx(M,{...c[i]?.image}),n.jsx(M,{...c[r]?.image})]})}):null},Zt=x(Yt),te="_caption__subtitle_ypv2b_32",j={"caption-display__caption":"_caption-display__caption_ypv2b_1",caption__subtitle:te,"caption__client-name":"_caption__client-name_ypv2b_39","caption--is-updating":"_caption--is-updating_ypv2b_43"},ee=()=>{const{isAnimatingRight:t,isAnimatingLeft:e,slides:s,index:i}=w(),r=s?.[i];return r?n.jsxs("div",{className:R({[j["caption-display__caption"]]:!0,[j["caption--is-updating"]]:t||e}),children:[n.jsx("h5",{className:j.caption__subtitle,children:"Client"}),n.jsx("p",{className:j["caption__client-name"],children:r.client}),n.jsx("h5",{className:j.caption__subtitle,children:"Project"}),n.jsxs("p",{children:[r.projectName," (",r.year,")"]}),n.jsx("h5",{className:j.caption__subtitle,children:"Skills"}),n.jsx("p",{children:r.skills})]}):null},se=x(ee),ie="_menuItem_1yocg_1",ne="_menuItem__thumbnail_1yocg_35",L={menuItem:ie,"menuItem--selected":"_menuItem--selected_1yocg_19",menuItem__thumbnail:ne},re=({isActive:t,onMenuClick:e,image:s,client:i})=>{const[r,c]=_.useState(!1),{alt:o,name:y}=s;return n.jsxs("div",{className:R({[L.menuItem]:!0,[L["menuItem--selected"]]:t}),children:[n.jsx("button",{type:"button",onClick:e,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:o}),r===!0?n.jsxs("div",{className:L.menuItem__thumbnail,children:[n.jsx("h5",{children:i}),n.jsx("img",{className:L.menuItem__img,src:`images/${y}`,alt:o,title:o,height:100})]}):""]})},oe="_slider__menu_tfl3t_1",at={slider__menu:oe,"slider__menu--play-state":"_slider__menu--play-state_tfl3t_17"},ae=()=>{const{slides:t,isPlaying:e,index:s,goTo:i}=w();return n.jsxs("div",{className:at.slider__menu,children:[t?.map((r,c)=>n.jsx(re,{isActive:s===c,onMenuClick:()=>i(c),image:t[c].image,client:t[c].client},`mi-${r.id}`)),n.jsx("div",{className:at["slider__menu--play-state"],children:e?"Playing":"Paused"})]})},le=x(ae),ce="_slider__controls_rzqpu_1",he={slider__controls:ce},de=()=>n.jsx("div",{className:he.slider__controls,children:n.jsx(le,{})}),ue=x(de),pe="_slider__nav_51omv_1",_e="_slider__nav__btn_51omv_18",I={slider__nav:pe,slider__nav__btn:_e,"slider__nav__btn--prev":"_slider__nav__btn--prev_51omv_31","slider__nav__btn--next":"_slider__nav__btn--next_51omv_39","slider__nav__btn-icon":"_slider__nav__btn-icon_51omv_47"},fe=()=>{const{goToPrevious:t,goToNext:e}=w();return n.jsxs("nav",{className:I.slider__nav,children:[n.jsx("button",{type:"button",className:R({[I.slider__nav__btn]:!0,[I["slider__nav__btn--prev"]]:!0}),onClick:t,children:"Previous"}),n.jsx("span",{className:I["slider__nav__btn-icon"],onClick:t,children:n.jsx(Z,{iconName:"IoChevronBack"})}),n.jsx("button",{type:"button",className:R({[I.slider__nav__btn]:!0,[I["slider__nav__btn--next"]]:!0}),onClick:e,children:"Next"}),n.jsx("span",{className:I["slider__nav__btn-icon"],onClick:e,children:n.jsx(Z,{iconName:"IoChevronForward"})})," "]})},me=x(fe),ge="_slider_1be3t_1",ve="_loader_1be3t_20",lt={slider:ge,loader:ve};function ye(){const[t]=_.useState(()=>new a),{data:e,isLoading:s}=Ft({queryKey:["projects"],queryFn:Dt}),i=e?.data?.projects;return _.useEffect(()=>{if(i)return t.init(i),()=>t.destroy()},[t,i?.length]),s?n.jsx(bt,{className:lt.loader}):n.jsx(dt.Provider,{value:t,children:n.jsx(xt,{children:n.jsxs("div",{className:lt.slider,children:[n.jsxs(Vt,{children:[n.jsx(Zt,{}),n.jsx(me,{}),n.jsx(ue,{})]}),n.jsx(qt,{children:n.jsx(se,{})})]})})})}const be=x(ye),xe="_page_1h3wc_1",Ce={page:xe};function Pe(){return n.jsxs(k,{className:Ce.page,children:[n.jsx(k.Header,{title:"Work",tagline:"Featuring a custom-built responsive React carousel"}),n.jsx(k.Content,{children:n.jsx(be,{})})]})}export{Pe as default};

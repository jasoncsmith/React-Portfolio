"use strict";(self.webpackChunkjfolio_client=self.webpackChunkjfolio_client||[]).push([[549],{1776:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n(5294).Z.create({baseURL:"https://api-gaxpa6b7ta-uc.a.run.app"})},9391:(e,t,n)=>{n.d(t,{Z:()=>c});n(2791);var a=n(1418),r=n.n(a),l=n(4122),s=n(1215);const i={button:"Button_button__85C4R","button--primary":"Button_button--primary__aNaOs","button--ghost":"Button_button--ghost__7hC48",button__text:"Button_button__text__SkwgW",button__loader:"Button_button__loader__w7pH0","button--is-loading":"Button_button--is-loading__4WX7w"};var o=n(184);const c=e=>{let{children:t="",className:n="",buttonType:a="button",variant:c="primary",isLoading:d=!1,iconName:u,...m}=e;const h="link"===a?"a":"button";return(0,o.jsxs)(h,{className:r()({[i.button]:!0,[i["button--is-loading"]]:d,[i["button--".concat(c)]]:c,[n]:!!n}),...m,children:[d&&(0,o.jsx)(l.Z,{className:i.button__loader}),!!u&&(0,o.jsx)(s.Z,{iconName:u}),t&&(0,o.jsx)("span",{className:i.button__text,children:t})]})}},1215:(e,t,n)=>{n.d(t,{Z:()=>c});n(2791);var a=n(9126),r=n(71),l=n(4373),s=n(6355),i=n(184);const o={...a,...r,...l,...s},c=e=>{let{iconName:t,className:n="",...a}=e;const r=o[t];return r?(0,i.jsx)(r,{className:n,...a}):null}},7138:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(2791),r=n(1418),l=n.n(r);const s="Fade_base__LJc6q",i="Fade_base--is-hidden__tg8aU",o="Fade_base--has-translate__xsYHH";var c=n(184);const d=e=>{let{children:t,animationToggle:n=!1,animationTranslate:r=!0}=e;const d=(0,a.useRef)(null),[u,m]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=null===d||void 0===d?void 0:d.current;if(!e)return;const t=new IntersectionObserver((e=>{e.forEach((e=>{!0===n?m(e.isIntersecting):e.isIntersecting&&m(!0)}))}));return t.observe(e),()=>t.unobserve(e)})),(0,c.jsx)("div",{ref:d,className:l()({[s]:!0,[i]:!u,[o]:r}),children:t})}},4122:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(1418),r=n.n(a),l=n(9129);const s={"loader-container":"Loader_loader-container__IPSf0",loader:"Loader_loader__gPW3M",rotating:"Loader_rotating__XRlrH"};var i=n(184);function o(e){let{className:t=""}=e;return(0,i.jsx)("div",{role:"alert","aria-label":"Loading",className:r()({[s["loader-container"]]:!0}),children:(0,i.jsx)(l.WUS,{className:r()({[s.loader]:!0,[t]:!!t})})})}},181:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2791);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[n,r]=(0,a.useState)((()=>(e=>{try{const t=window.localStorage.getItem(e);return t&&JSON.parse(t)}catch(t){return null}})(e)||t));return(0,a.useEffect)((()=>{((e,t)=>{try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){return}})(e,n)}),[n]),[n,r]}},4171:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ie});var a=n(2791),r=n(5705),l=n(763),s=n(1776);const i=e=>{const t={};return e.firstName.length<2?t.firstName="Required":e.firstName.length>25&&(t.firstName="Must be 25 characters or less"),e.lastName.length<2?t.lastName="Required":e.lastName.length>25&&(t.lastName="Must be 25 characters or less"),e.email?(e=>{let{email:t}=e;return!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)})(e)&&(t.email="Please enter a valid email address"):t.email="Required",e.comments?e.comments.length<5&&(t.comments="Please enter at least 5 characters"):t.comments="Required",t};var o=n(181);function c(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return e.replace(/[&<>"'/]/gi,(e=>t[e]))}var d=n(1418),u=n.n(d);const m={label:"FieldLabel_label__RotDe","label--is-hidden":"FieldLabel_label--is-hidden__9Vriq"};var h=n(184);const x=function(e){let{id:t,error:n=!1,hideLabel:a=!0,children:r}=e;return(0,h.jsx)("label",{className:u()({[m.label]:!0,[m["label--is-invalid"]]:n,[m["label--is-hidden"]]:a}),htmlFor:t,children:r})},f={"field-input":"FieldInput_field-input__5CHko","field-input--light":"FieldInput_field-input--light__9OGWQ","field-input--dark":"FieldInput_field-input--dark__M8Vzk","field-input--is-invalid":"FieldInput_field-input--is-invalid__UpUh9"},_=(0,a.forwardRef)((function(e,t){let{id:n,name:a,type:r="text",error:l,valid:s,...i}=e;return(0,h.jsx)("input",{id:n,ref:t,name:a,type:r,className:u()({[f["field-input"]]:!0,[f["field-input--is-invalid"]]:l,[f["field-input--is-valid"]]:s}),...i})})),b=_,g="FieldMessage_validation-message__NibMX",p="FieldMessage_validation-message--is-invalid__0B5ND",v="FieldMessage_validation-message--is-valid__TzUA5",j=e=>{let{error:t,children:n}=e;return t?(0,h.jsx)("span",{className:u()({[g]:!0,[p]:t,[v]:!1}),children:n}):null},N="Field_field__wn5IX",y=(0,a.forwardRef)((function(e,t){let{id:n,name:a,error:r,msg:l,label:s,hideLabel:i=!0,type:o="text",...c}=e;const d="field-".concat(o,"-").concat(n);return(0,h.jsxs)("div",{className:N,children:[s&&(0,h.jsx)(x,{id:d,error:r,hideLabel:i,children:s}),(0,h.jsx)(b,{ref:t,id:d,name:a,type:o,error:r,...c}),l&&(0,h.jsx)(j,{error:r,children:l})]})})),C=y,w="FieldInputTrap_confirmEmail__ReCfs",k=e=>(0,h.jsx)("input",{className:w,type:"text",...e}),F={"control-textarea":"FieldTextArea_control-textarea__mNfp2",textarea:"FieldTextArea_textarea__s0dgR","textarea--is-invalid":"FieldTextArea_textarea--is-invalid__7viYK"},O=(0,a.forwardRef)((function(e,t){let{id:n,name:a,msg:r,label:l,hideLabel:s=!1,error:i,valid:o,...c}=e;const d="control-textarea-".concat(n);return(0,h.jsxs)("div",{className:F["control-textarea"],children:[l&&(0,h.jsx)(x,{id:d,hideLabel:s,children:l}),(0,h.jsx)("textarea",{ref:t,id:d,name:a,className:u()({[F.textarea]:!0,[F["textarea--is-invalid"]]:i,[F["textarea--is-valid"]]:o}),...c}),r&&(0,h.jsx)(j,{error:i,children:r})]})})),L=O;var E=n(9391),M=n(7138);const S="ContactForm_contact-form__YS+Nw",B="ContactForm_contact-form__column__g5HhS",I="ContactForm_contact-form__group__QPovm",R="ContactForm_contact-form__btn-submit__KpoAO",T=e=>{let{handler:t,isWaiting:n}=e;const r=(0,a.useRef)(null),l=(0,a.useRef)(null),{handleBlur:s,handleChange:i,handleSubmit:o,touched:c,values:d,errors:u}=t,{firstName:m,lastName:f,email:_,company:b,confirmEmail:g,comments:p}=d,{firstName:v,lastName:j,email:N,comments:y}=u,{firstName:w,lastName:F,email:O,comments:T}=c;return(0,a.useEffect)((()=>{var e,t;m?null===(e=l.current)||void 0===e||e.focus():null===(t=r.current)||void 0===t||t.focus()}),[]),(0,h.jsx)(M.Z,{children:(0,h.jsxs)("form",{autoFocus:!0,onSubmit:o,className:S,children:[(0,h.jsxs)("div",{className:B,children:[(0,h.jsxs)("div",{className:I,children:[(0,h.jsx)(C,{ref:r,id:"firstName",name:"firstName",type:"text",label:"First Name*",placeholder:"First Name*",tabIndex:1,maxLength:25,error:!!w&&!!v,msg:v,value:m,onBlur:s,onChange:i}),(0,h.jsx)(C,{id:"lastName",name:"lastName",type:"text",label:"Last Name*",placeholder:"Last Name*",tabIndex:2,maxLength:25,error:!!F&&!!j,msg:j,value:f,onBlur:s,onChange:i})]}),(0,h.jsx)(C,{id:"email",name:"email",type:"email",label:"Email*",placeholder:"Email*",tabIndex:3,maxLength:40,error:!!O&&!!N,msg:N,value:_,onBlur:s,onChange:i}),(0,h.jsx)(C,{id:"company",name:"company",type:"text",label:"Company",placeholder:"Company",tabIndex:4,maxLength:25,error:!1,msg:"",value:b,onBlur:s,onChange:i}),(0,h.jsxs)("div",{className:"confirmEmail",children:[(0,h.jsx)(x,{id:"confirmEmail",hideLabel:!0,children:"Honeytrap"}),(0,h.jsx)(k,{name:"confirmEmail",type:"text",value:g,onChange:i})]})]}),(0,h.jsx)("div",{className:B,children:(0,h.jsx)(L,{id:"comments",name:"comments",ref:l,placeholder:"Greetings, questions, comments...*",rows:7,cols:37,tabIndex:5,maxLength:275,value:p,msg:y,error:!!T&&!!y,onBlur:s,onChange:i})}),(0,h.jsx)(E.Z,{buttonType:"button",type:"submit",tabIndex:6,disabled:n,isLoading:n,className:R,"data-testid":"contact-submit-button",children:"Transmit"})]})})},Z=e=>{let{name:t="Visitor"}=e;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-sm",children:["Hello ",(0,h.jsx)("strong",{style:{color:"#eabb00",fontWeight:"bold"},children:t}),","]}),(0,h.jsxs)("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-sm leading-5",children:["This form is wired up to a \ud83d\udd25 ",(0,h.jsx)("code",{children:"Firebase Firestore"})," NoSQL database on the backend and uses the ",(0,h.jsx)("strong",{style:{color:"#eabb00",fontWeight:"bold"},children:"formik"})," validation library on the client. Source code is available at my"," ",(0,h.jsx)("strong",{style:{color:"#eabb00",fontWeight:"bold"},children:"GitHub"})," repo."," ",(0,h.jsx)("a",{className:"text-blue-500",href:"https://github.com/jasoncsmith/React-Portfolio",target:"_blank",rel:"noreferrer",children:"Check it out"})]})]})};var W=n(4164);const A=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,a.useEffect)((()=>{function a(n){e.current&&!e.current.contains(n.target)&&t()}return n&&document.addEventListener("click",a,!0),()=>{document.removeEventListener("click",a,!0)}}),[t])},H=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,a.useEffect)((()=>{function e(e){e.code===n&&t()}return n&&document.addEventListener("keyup",e,!0),()=>{document.removeEventListener("keyup",e,!0)}}),[t])},K=(0,a.createContext)(null),P=()=>{const e=(0,a.useContext)(K);if(!e)throw new Error("cannot use context outside of provider");return e},q=e=>{let{children:t,warnBeforeClose:n}=e;const[r,l]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1),o=(0,a.useCallback)((()=>{Array.isArray(n)&&n.includes(r)?i(!0):l("")}),[null===n||void 0===n?void 0:n.length,r]);return(0,h.jsx)(K.Provider,{value:{modalKey:r,setModalKey:l,close:o,warn:s,setWarn:i},children:t})},U={start:"justify-start",center:"justify-center",end:"justify-center"},z={start:"items-start",center:"items-center",end:"items-center"},V={xs:"gap-4",sm:"gap-8",md:"gap-12",lg:"gap-16",xl:"gap-20"};const J=function(e){let{children:t,x:n="start",y:a="center",gap:r="xs"}=e;return(0,h.jsx)("div",{className:"flex ".concat(U[n]," ").concat(z[a]," ").concat(V[r]),children:t})},X="ModalWarning_modal__warning__BAVKJ";function Y(){return(0,h.jsx)("h5",{className:"text-lg text-white text-center mb-8",children:"You will lose any unsaved changes. Continue?"})}const G="ModalContent_modal__btn-close__0JmB5";const Q={closeOnEscape:!0,closeOnOutsideClick:!0,externalOpener:!1,warnBeforeClose:[]};function D(e){let{children:t,warnBeforeClose:n=Q.warnBeforeClose}=e;return(0,h.jsx)(q,{warnBeforeClose:n,children:t})}function $(e){let{children:t}=e;return(0,h.jsx)("div",{className:"modal-overlay fixed top-0 left-0 bg-black/70 w-full h-full z-30",role:"presentation",children:t})}function ee(e){let{children:t,closeOnEsc:n,closeOnOutsideClick:r}=e;const{close:l}=P(),s=(0,a.useRef)(null);return A(s,l,r),H(s,l,n?"Escape":""),(0,h.jsx)("div",{role:"dialog",ref:s,className:"absolute w-11/12 md:w-1/2 top-1/3 left-1/2 transform -translate-x-1/2 -translate-y-1/2 dark:bg-slate-800 rounded-lg p-6 ring-1 ring-slate-700 shadow-xl z-50",children:t})}D.ModalWindow=function(e){let{modalId:t,closeOnEsc:n=Q.closeOnEscape,closeOnOutsideClick:r=Q.closeOnOutsideClick,externalOpen:l=Q.externalOpener,externalReset:s,children:i}=e;const{modalKey:o,setModalKey:c}=P();return(0,a.useEffect)((()=>{l&&c(t)}),[l]),(0,a.useEffect)((()=>{!o&&(null===s||void 0===s||s(!1))}),[o]),o!==t?null:(0,W.createPortal)((0,h.jsx)($,{children:(0,h.jsx)(M.Z,{animationTranslate:!1,children:(0,h.jsx)(ee,{closeOnEsc:n,closeOnOutsideClick:r,children:i})})}),document.body)},D.ModalOpener=function(e){let{children:t,modalId:n}=e;const{setModalKey:a}=P();return(0,h.jsx)(E.Z,{buttonType:"button",onClick:()=>a(n),children:t})},D.ModalCloser=function(){const{close:e}=P();return(0,h.jsx)(E.Z,{onClick:e,buttonType:"button",className:"".concat(G," stroke-white hover:bg-slate-600 top-3 right-3 rounded-md text-amber-400 p-0"),iconName:"IoMdClose",variant:"ghost"})},D.ModalTitle=function(e){let{children:t}=e;return(0,h.jsx)("div",{className:"text-slate-900 dark:text-white mb-5 text-base font-medium",children:t})},D.ModalContent=function(e){let{children:t}=e;return(0,h.jsx)("div",{className:"text-slate-500 dark:text-slate-400 mt-2 text-sm leading-5",children:t})},D.ModalCloseWarning=function(e){let{children:t}=e;const{setModalKey:n,setWarn:a,warn:r}=P();return r?(0,h.jsx)(M.Z,{animationTranslate:!1,children:(0,h.jsxs)("div",{className:"".concat(X," absolute w-full h-full top-0 left-0 dark:bg-slate-800 rounded-lg p-6 ring-1 ring-slate-700 shadow-xl z-50 text-white"),children:[t||(0,h.jsx)(Y,{}),(0,h.jsxs)(J,{x:"center",children:[(0,h.jsx)(E.Z,{buttonType:"button",variant:"primary",onClick:()=>a(!1),children:"Stay"}),(0,h.jsx)(E.Z,{buttonType:"button",variant:"ghost",onClick:()=>{a(!1),n("")},children:"Leave"})]})]})}):null};const te=D;var ne=n(5985);n(5462);const ae={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"dark"},re={success:e=>ne.Am.success(e,ae),error:e=>ne.Am.error(e,ae),warning:e=>ne.Am.warning(e,ae),info:e=>(0,ne.Am)(e,ae)},le={firstName:"",lastName:"",email:"",company:"",comments:""},se=()=>{const[e,t]=(0,a.useState)(!1),[n,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[x,f]=(0,o.Z)("user"),_=(0,r.TA)({initialValues:{...le,...(0,l.pick)(x,"firstName","lastName","email","company")},validate:i,onSubmit:async function(e){d(!0);try{const n=Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,c(n)]}))),{data:a,status:r}=await(e=>s.Z.post("api/v1/users",e))(n);!function(e,n){200===e||201===e?(f(n),t(201===e),m(!0)):202===e&&re.success("Thank you for your comments")}(r,(0,l.omit)(a)),_.handleReset(null)}catch(n){re.error("Sorry, there was an error submitting this form.")}finally{d(!1)}},enableReinitialize:!0});return(0,h.jsxs)(h.Fragment,{children:[!u&&(0,h.jsx)(T,{handler:_,isWaiting:n}),(0,h.jsx)(te,{children:(0,h.jsxs)(te.ModalWindow,{modalId:"contact",externalOpen:u,externalReset:m,children:[(0,h.jsx)(te.ModalTitle,{children:e?"Thanks for Visiting!":"Welcome Back!"}),(0,h.jsx)(te.ModalContent,{children:(0,h.jsx)(Z,{name:x?(b=x.fullName,b.length>0?[b[0].toUpperCase(),...b.split("").slice(1)].join(""):b):""})}),(0,h.jsx)(te.ModalCloser,{})]})})]});var b};function ie(){return(0,h.jsxs)("div",{id:"view-contact",className:"view view-contact",children:[(0,h.jsx)("header",{className:"view__header",children:(0,h.jsx)("h2",{children:"Contact Me"})}),(0,h.jsx)("section",{children:(0,h.jsx)(se,{})})]})}}}]);
//# sourceMappingURL=549.a02837d0.chunk.js.map